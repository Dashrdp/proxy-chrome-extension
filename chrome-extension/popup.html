<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=400, initial-scale=1.0">
    <title>DashRDP Proxy Configurator</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <div class="logo">
                    <svg width="24" height="24" viewBox="0 0 432 111" xmlns="http://www.w3.org/2000/svg" class="dashrdp-logo">
                        <g fill="currentColor" transform="matrix(5.6980053264473165,0,0,5.6980053264473165,89.67713937353884,2.3935590520978067)">
                            <path d="M1.15 14.35L4.70 14.35C7.25 14.35 8.92 12.71 8.92 9.46C8.92 6.22 7.25 4.58 4.70 4.58L1.15 4.58ZM3.00 12.71L3.00 6.22L4.70 6.22C6.08 6.22 6.96 7.03 6.96 8.69L6.96 10.23C6.96 11.90 6.08 12.71 4.70 12.71ZM12.49 14.52C13.58 14.52 14.38 14.03 14.62 13.09L14.70 13.09C14.81 13.85 15.29 14.35 16.06 14.35L17.05 14.35L17.05 12.92L16.32 12.92L16.32 9.48C16.32 7.81 15.27 6.87 13.30 6.87C11.83 6.87 10.98 7.43 10.44 8.27L11.51 9.23C11.86 8.72 12.33 8.30 13.17 8.30C14.13 8.30 14.53 8.78 14.53 9.59L14.53 10.12L13.29 10.12C11.30 10.12 10.16 10.86 10.16 12.36C10.16 13.66 11.00 14.52 12.49 14.52ZM13.09 13.22C12.39 13.22 11.98 12.92 11.98 12.33L11.98 12.10C11.98 11.52 12.45 11.20 13.38 11.20L14.53 11.20L14.53 12.17C14.53 12.85 13.89 13.22 13.09 13.22ZM20.90 14.52C22.72 14.52 23.91 13.54 23.91 12.12C23.91 10.91 23.14 10.19 21.55 9.97L20.80 9.87C20.12 9.76 19.85 9.53 19.85 9.04C19.85 8.60 20.19 8.29 20.96 8.29C21.67 8.29 22.29 8.62 22.71 9.07L23.76 8.02C23.06 7.29 22.33 6.87 20.90 6.87C19.24 6.87 18.13 7.77 18.13 9.18C18.13 10.51 19.00 11.20 20.57 11.40L21.29 11.49C21.94 11.58 22.19 11.84 22.19 12.26C22.19 12.78 21.83 13.10 20.97 13.10C20.15 13.10 19.50 12.73 18.97 12.11L17.88 13.17C18.61 14.01 19.52 14.52 20.90 14.52ZM25.49 14.35L27.29 14.35L27.29 9.52C27.29 8.74 28.00 8.34 28.74 8.34C29.60 8.34 29.95 8.88 29.95 9.91L29.95 14.35L31.74 14.35L31.74 9.73C31.74 7.91 30.90 6.87 29.40 6.87C28.27 6.87 27.65 7.48 27.36 8.26L27.29 8.26L27.29 3.99L25.49 3.99ZM35.69 10.58L37.44 10.58L39.26 14.35L41.31 14.35L39.31 10.37C40.52 9.97 41.13 8.95 41.13 7.60C41.13 5.75 40.03 4.58 38.25 4.58L33.84 4.58L33.84 14.35L35.69 14.35ZM35.69 9.03L35.69 6.19L38.07 6.19C38.78 6.19 39.21 6.57 39.21 7.28L39.21 7.92C39.21 8.64 38.78 9.03 38.07 9.03ZM43.13 14.35L46.69 14.35C49.24 14.35 50.90 12.71 50.90 9.46C50.90 6.22 49.24 4.58 46.69 4.58L43.13 4.58ZM44.98 12.71L44.98 6.22L46.69 6.22C48.06 6.22 48.94 7.03 48.94 8.69L48.94 10.23C48.94 11.90 48.06 12.71 46.69 12.71ZM54.63 14.35L54.63 10.63L57.18 10.63C58.98 10.63 60.07 9.42 60.07 7.60C60.07 5.80 58.98 4.58 57.18 4.58L52.78 4.58L52.78 14.35ZM54.63 6.19L57.01 6.19C57.72 6.19 58.16 6.57 58.16 7.28L58.16 7.92C58.16 8.64 57.72 9.03 57.01 9.03L54.63 9.03Z"/>
                        </g>
                        <defs>
                            <linearGradient gradientTransform="rotate(25)" id="dashrdp-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color: rgb(64, 156, 230); stop-opacity: 1;"/>
                                <stop offset="100%" style="stop-color: rgb(40, 183, 244); stop-opacity: 1;"/>
                            </linearGradient>
                        </defs>
                        <g transform="matrix(1.1068333095974392,0,0,1.1068333095974392,-16.767817147908417,-0.15391838506867828)" stroke="none" fill="url(#dashrdp-gradient)">
                            <path d="M84.228 4.966c-.296-1.263-1.122-2.275-2.33-2.851L79.258.858c-.155-.291-.52-.621-1.378-.621-.351 0-.756.056-1.204.165L50.715 6.727c-2.497.609-5.491 2.96-6.675 5.242L24.903 48.86c-.569 1.096-.642 2.097-.205 2.815.476.783 1.518 1.136 2.856.954l3.169-.426c1.15-.153 2.051.13 2.455.771.374.592.326 1.449-.134 2.413l-17.013 35.97c-.522 1.094-.583 1.143-.553 2.143h.022v-.543c0 .006-.029.012-.028.018l.589 3.419c.275 2.393 1.49 3.12 2.193 3.342.205.062.465.116.775.116.763 0 1.804-.321 2.933-1.606L65.73 48.434c1.145-1.302 1.639-2.887 1.355-4.351-.251-1.304-1.077-2.37-2.325-3.002l-2.696-1.366c-.189-.384-.669-.824-1.884-.824-.083 0-.181.013-.271.017L83.063 9.443c1.083-1.378 1.507-3.009 1.165-4.477zM64.401 44.602c.12.626-.144 1.366-.726 2.028l-43.77 49.808c-.405.46-.707.625-.836.667-.083-.108-.238-.415-.308-1.024 0 0-.606-3.586-.552-4.913L61.14 42.312l2.384 1.208c.484.245.787.619.877 1.082zM80.912 7.754L56.106 39.323l-2.517.288c-1.12.128-1.918-.099-2.168-.612-.236-.488.005-1.248.661-2.084L78.368 3.464l2.354 1.121c.453.216.737.555.844 1.005.152.654-.086 1.442-.654 2.164z"/>
                        </g>
                    </svg>
                </div>
                <h1>DashRDP Proxy Configurator</h1>
            </div>
            <div class="health-status checking" id="healthStatus">
                <div class="health-indicator" id="healthIndicator">
                    <span class="health-icon">‚óè</span>
                </div>
                <span class="health-text" id="healthText">Checking...</span>
            </div>
        </div>
        
        <form id="proxyForm">
            <div class="form-section">
                <div class="form-group">
                    <label for="serverIp">
                        <span class="label-icon">üñ•Ô∏è</span>
                        Server IP
                    </label>
                    <div class="input-wrapper">
                        <input type="text" id="serverIp" name="serverIp" placeholder="66.181.39.100" required>
                        <div class="input-border"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="password">
                        <span class="label-icon">üîê</span>
                        Password
                    </label>
                    <div class="input-wrapper">
                        <input type="password" id="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        <button type="button" class="password-toggle" id="passwordToggle" title="Toggle password visibility">
                            <span class="toggle-icon">üëÅÔ∏è</span>
                        </button>
                        <div class="input-border"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="proxyIpPort">
                        <span class="label-icon">üåê</span>
                        Proxy IP:Port
                    </label>
                    <div class="input-wrapper">
                        <input type="text" id="proxyIpPort" name="proxyIpPort" placeholder="e.g., 192.168.1.100:8080" required>
                        <div class="input-border"></div>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="submit" id="executeBtn" class="btn-primary">
                    <span class="btn-icon">‚ö°</span>
                    EXECUTE SCRIPT
                </button>
                <button type="button" id="extractBtn" class="btn-secondary">
                    <span class="btn-icon">üì§</span>
                    EXTRACT FROM PAGE
                </button>
            </div>
        </form>
        
        <div id="status" class="status hidden"></div>
        
        <!-- Progress Bar -->
        <div id="progressContainer" class="progress-container hidden">
            <div class="progress-header">
                <div class="progress-title-section">
                    <span id="progressMessage">Initializing...</span>
                    <div class="connection-status" id="connectionStatus">
                        <span class="connection-icon">‚óè</span>
                        <span class="connection-text">Connecting...</span>
                    </div>
                </div>
                <span id="progressPercentage">0%</span>
            </div>
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <div id="progressSteps" class="progress-steps">
                <div class="progress-step" data-step="1">
                    <div class="step-icon">1</div>
                    <div class="step-label">Validate</div>
                </div>
                <div class="progress-step" data-step="2">
                    <div class="step-icon">2</div>
                    <div class="step-label">Connect</div>
                </div>
                <div class="progress-step" data-step="3">
                    <div class="step-icon">3</div>
                    <div class="step-label">Execute</div>
                </div>
                <div class="progress-step" data-step="4">
                    <div class="step-icon">4</div>
                    <div class="step-label">Process</div>
                </div>
                <div class="progress-step" data-step="5">
                    <div class="step-icon">5</div>
                    <div class="step-label">Complete</div>
                </div>
            </div>
            <!-- Status Log -->
            <div class="status-log-container">
                <button type="button" class="status-log-toggle" id="statusLogToggle">
                    <span class="toggle-icon">‚ñº</span>
                    <span>Status Log</span>
                    <span class="log-count" id="logCount">0</span>
                </button>
                <div id="statusLog" class="status-log hidden">
                    <div id="statusLogEntries" class="status-log-entries"></div>
                </div>
            </div>
        </div>
        
        <div id="results" class="results hidden">
            <h3>Results:</h3>
            <div id="output"></div>
        </div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>
